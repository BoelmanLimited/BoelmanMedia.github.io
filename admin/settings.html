<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings | Admin Dashboard</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <img src="../assets/images/logo-dark-large.png" alt="Boelman Media">
        </div>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="dashboard.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="photo-sessions.html" class="nav-link">
                    <i class="fas fa-camera"></i>
                    <span>Photo Sessions</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="blog-posts.html" class="nav-link">
                    <i class="fas fa-blog"></i>
                    <span>Blog Posts</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="messages.html" class="nav-link">
                    <i class="fas fa-envelope"></i>
                    <span>Messages</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="settings.html" class="nav-link active">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="main-content">
        <div class="header">
            <h1>Settings</h1>
        </div>

        <div class="settings-grid">
            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-user"></i>
                    <h2>Account Settings</h2>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="admin-email" class="form-control" placeholder="Admin email">
                </div>
                <div class="form-group">
                    <label>Current Password</label>
                    <input type="password" id="current-password" class="form-control" placeholder="Current password">
                </div>
                <div class="form-group">
                    <label>New Password</label>
                    <input type="password" id="new-password" class="form-control" placeholder="New password">
                </div>
                <button class="action-btn primary" onclick="saveAccountSettings()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-bell"></i>
                    <h2>Notification Settings</h2>
                </div>
                <div class="form-group">
                    <label>Email Notifications</label>
                    <select id="email-notifications" class="form-control">
                        <option value="all">All Messages</option>
                        <option value="important">Important Only</option>
                        <option value="none">None</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Desktop Notifications</label>
                    <select id="desktop-notifications">
                        <option value="all">All Messages</option>
                        <option value="important">Important Only</option>
                        <option value="none">None</option>
                    </select>
                </div>
                <button class="action-btn primary" onclick="saveNotificationSettings()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-globe"></i>
                    <h2>Website Settings</h2>
                </div>
                <div class="form-group">
                    <label>Site Title</label>
                    <input type="text" id="site-title" placeholder="Site title">
                </div>
                <div class="form-group">
                    <label>Contact Email</label>
                    <input type="email" id="contact-email" placeholder="Public contact email">
                </div>
                <div class="form-group">
                    <label>Business Hours</label>
                    <input type="text" id="business-hours" placeholder="e.g., Mon-Fri: 9AM-5PM">
                </div>
                <div class="form-group">
                    <label>Service Area</label>
                    <input type="text" id="service-area" placeholder="e.g., Greater Des Moines Area">
                </div>
                <button class="action-btn primary" onclick="saveWebsiteSettings()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-camera"></i>
                    <h2>Photography Settings</h2>
                </div>
                <div class="form-group">
                    <label>Base Package Price</label>
                    <input type="number" id="base-price" placeholder="Base price for standard package">
                </div>
                <div class="form-group">
                    <label>Travel Fee (per mile)</label>
                    <input type="number" id="travel-fee" placeholder="Travel fee per mile">
                </div>
                <div class="form-group">
                    <label>Rush Delivery Fee</label>
                    <input type="number" id="rush-fee" placeholder="Additional fee for rush delivery">
                </div>
                <div class="form-group">
                    <label>Default Delivery Time (days)</label>
                    <input type="number" id="delivery-time" placeholder="Standard delivery time in days">
                </div>
                <button class="action-btn primary" onclick="savePhotographySettings()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-palette"></i>
                    <h2>Appearance Settings</h2>
                </div>
                <div class="form-group">
                    <label>Primary Color</label>
                    <input type="color" id="primary-color" value="#0066FF">
                </div>
                <div class="form-group">
                    <label>Logo Size</label>
                    <select id="logo-size">
                        <option value="small">Small</option>
                        <option value="medium">Medium</option>
                        <option value="large">Large</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Font Size</label>
                    <select id="font-size">
                        <option value="small">Small</option>
                        <option value="medium">Medium</option>
                        <option value="large">Large</option>
                    </select>
                </div>
                <button class="action-btn primary" onclick="saveAppearanceSettings()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-calendar"></i>
                    <h2>Booking Settings</h2>
                </div>
                <div class="form-group">
                    <label>Minimum Notice (hours)</label>
                    <input type="number" id="min-notice" placeholder="Minimum booking notice in hours">
                </div>
                <div class="form-group">
                    <label>Maximum Bookings Per Day</label>
                    <input type="number" id="max-bookings" placeholder="Maximum sessions per day">
                </div>
                <div class="form-group">
                    <label>Booking Time Slots</label>
                    <select id="booking-slots" multiple>
                        <option value="morning">Morning (8AM-12PM)</option>
                        <option value="afternoon">Afternoon (12PM-4PM)</option>
                        <option value="evening">Evening (4PM-8PM)</option>
                        <option value="twilight">Twilight (Varies)</option>
                    </select>
                </div>
                <button class="action-btn primary" onclick="saveBookingSettings()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <i class="fas fa-shield-alt"></i>
                    <h2>Session Management</h2>
                </div>
                <p style="color: var(--secondary-color); margin-bottom: 1rem;">
                    Manage your login session and security settings.
                </p>
                <button class="action-btn primary" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </div>

    <script>
        // Check authentication
        if (localStorage.getItem('adminAuth') !== 'true') {
            window.location.href = 'login.html';
        }

        // Load settings on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
        });

        function loadSettings() {
            // Load settings from localStorage
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            
            // Account settings
            document.getElementById('admin-email').value = settings.adminEmail || '';
            
            // Notification settings
            document.getElementById('email-notifications').value = settings.emailNotifications || 'all';
            document.getElementById('desktop-notifications').value = settings.desktopNotifications || 'all';
            
            // Website settings
            document.getElementById('site-title').value = settings.siteTitle || 'Boelman Media';
            document.getElementById('contact-email').value = settings.contactEmail || '';
            document.getElementById('business-hours').value = settings.businessHours || '';
            document.getElementById('service-area').value = settings.serviceArea || '';

            // Photography settings
            document.getElementById('base-price').value = settings.basePrice || '';
            document.getElementById('travel-fee').value = settings.travelFee || '';
            document.getElementById('rush-fee').value = settings.rushFee || '';
            document.getElementById('delivery-time').value = settings.deliveryTime || '';

            // Appearance settings
            document.getElementById('primary-color').value = settings.primaryColor || '#0066FF';
            document.getElementById('logo-size').value = settings.logoSize || 'medium';
            document.getElementById('font-size').value = settings.fontSize || 'medium';

            // Booking settings
            document.getElementById('min-notice').value = settings.minNotice || '';
            document.getElementById('max-bookings').value = settings.maxBookings || '';
            if (settings.bookingSlots) {
                const slots = document.getElementById('booking-slots');
                settings.bookingSlots.forEach(slot => {
                    Array.from(slots.options).forEach(option => {
                        if (option.value === slot) option.selected = true;
                    });
                });
            }
        }

        function saveAccountSettings() {
            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const email = document.getElementById('admin-email').value;

            if (newPassword && !currentPassword) {
                showNotification('Please enter your current password', 'error');
                return;
            }

            // Here you would typically verify the current password server-side
            // For demo purposes, we'll just save the email
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            settings.adminEmail = email;
            localStorage.setItem('adminSettings', JSON.stringify(settings));

            showNotification('Account settings saved successfully', 'success');
            document.getElementById('current-password').value = '';
            document.getElementById('new-password').value = '';
        }

        function saveNotificationSettings() {
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            settings.emailNotifications = document.getElementById('email-notifications').value;
            settings.desktopNotifications = document.getElementById('desktop-notifications').value;
            localStorage.setItem('adminSettings', JSON.stringify(settings));

            showNotification('Notification settings saved successfully', 'success');
        }

        function saveWebsiteSettings() {
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            settings.siteTitle = document.getElementById('site-title').value;
            settings.contactEmail = document.getElementById('contact-email').value;
            localStorage.setItem('adminSettings', JSON.stringify(settings));

            showNotification('Website settings saved successfully', 'success');
        }

        function savePhotographySettings() {
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            settings.basePrice = document.getElementById('base-price').value;
            settings.travelFee = document.getElementById('travel-fee').value;
            settings.rushFee = document.getElementById('rush-fee').value;
            settings.deliveryTime = document.getElementById('delivery-time').value;
            localStorage.setItem('adminSettings', JSON.stringify(settings));
            showNotification('Photography settings saved successfully', 'success');
        }

        function saveAppearanceSettings() {
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            settings.primaryColor = document.getElementById('primary-color').value;
            settings.logoSize = document.getElementById('logo-size').value;
            settings.fontSize = document.getElementById('font-size').value;
            localStorage.setItem('adminSettings', JSON.stringify(settings));
            showNotification('Appearance settings saved successfully', 'success');
        }

        function saveBookingSettings() {
            const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            settings.minNotice = document.getElementById('min-notice').value;
            settings.maxBookings = document.getElementById('max-bookings').value;
            settings.bookingSlots = Array.from(document.getElementById('booking-slots').selectedOptions)
                .map(option => option.value);
            localStorage.setItem('adminSettings', JSON.stringify(settings));
            showNotification('Booking settings saved successfully', 'success');
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideIn 0.3s ease reverse';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('adminAuth');
                window.location.href = 'login.html';
            }
        }
    </script>
</body>
</html> 